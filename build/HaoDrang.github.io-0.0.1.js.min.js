function tick(a){stage.update(a)}function resizeHandler(a){scaleCanvas()}function scaleCanvas(){var a=document.getElementById("gameCanvas"),b=(document.body.clientWidth,document.body.clientHeight,0),c=0,d=a.width,e=a.height;b=screen.width,c=screen.height;var f=1;b/c>d/e?(f=c/e,a.height=c,a.width=c*d/e):(f=b/d,a.width=b,a.height=b*e/d),stage.scaleX=stage.scaleY=f,debugText.log("data:"+[a.width,a.height,b,c]+" zoom: "+detectZoom.zoom()+" device:"+detectZoom.device()),stage.update()}function initialize(){DebugLabel.prototype=new createjs.Text,DebugLabel.prototype.log=function(a){this.text=a}}function DebugLabel(){}!function(a,b,c){"use strict";"undefined"!=typeof module&&module.exports?module.exports=c(b,a):"function"==typeof define&&define.amd?define("detect-zoom",function(){return c(b,a)}):a[b]=c(b,a)}(window,"detectZoom",function(){var a=function(){return window.devicePixelRatio||1},b=function(){return{zoom:1,devicePxPerCssPx:1}},c=function(){var b=Math.round(screen.deviceXDPI/screen.logicalXDPI*100)/100;return{zoom:b,devicePxPerCssPx:b*a()}},d=function(){var b=Math.round(document.documentElement.offsetHeight/window.innerHeight*100)/100;return{zoom:b,devicePxPerCssPx:b*a()}},e=function(){var b=Math.round(window.outerWidth/window.innerWidth*100)/100;return{zoom:b,devicePxPerCssPx:b*a()}},f=function(){var b=Math.round(document.documentElement.clientWidth/window.innerWidth*100)/100;return{zoom:b,devicePxPerCssPx:b*a()}},g=function(){var b=90==Math.abs(window.orientation)?screen.height:screen.width,c=b/window.innerWidth;return{zoom:c,devicePxPerCssPx:c*a()}},h=function(){var b=function(a){return a.replace(/;/g," !important;")},c=document.createElement("div");c.innerHTML="1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>0",c.setAttribute("style",b("font: 100px/1em sans-serif; -webkit-text-size-adjust: none; text-size-adjust: none; height: auto; width: 1em; padding: 0; overflow: visible;"));var d=document.createElement("div");d.setAttribute("style",b("width:0; height:0; overflow:hidden; visibility:hidden; position: absolute;")),d.appendChild(c),document.body.appendChild(d);var e=1e3/c.clientHeight;return e=Math.round(100*e)/100,document.body.removeChild(d),{zoom:e,devicePxPerCssPx:e*a()}},i=function(){var a=l("min--moz-device-pixel-ratio","",0,10,20,1e-4);return a=Math.round(100*a)/100,{zoom:a,devicePxPerCssPx:a}},j=function(){return{zoom:i().zoom,devicePxPerCssPx:a()}},k=function(){var b=window.top.outerWidth/window.top.innerWidth;return b=Math.round(100*b)/100,{zoom:b,devicePxPerCssPx:b*a()}},l=function(a,b,c,d,e,f){function g(c,d,e){var i=(c+d)/2;if(0>=e||f>d-c)return i;var j="("+a+":"+i+b+")";return h(j).matches?g(i,d,e-1):g(c,i,e-1)}var h,i,j,k;window.matchMedia?h=window.matchMedia:(i=document.getElementsByTagName("head")[0],j=document.createElement("style"),i.appendChild(j),k=document.createElement("div"),k.className="mediaQueryBinarySearch",k.style.display="none",document.body.appendChild(k),h=function(a){j.sheet.insertRule("@media "+a+"{.mediaQueryBinarySearch {text-decoration: underline} }",0);var b="underline"==getComputedStyle(k,null).textDecoration;return j.sheet.deleteRule(0),{matches:b}});var l=g(c,d,e);return k&&(i.removeChild(j),document.body.removeChild(k)),l},m=function(){var a=b;return isNaN(screen.logicalXDPI)||isNaN(screen.systemXDPI)?window.navigator.msMaxTouchPoints?a=d:window.chrome&&!(window.opera||navigator.userAgent.indexOf(" Opera")>=0)?a=e:Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0?a=f:"orientation"in window&&"webkitRequestAnimationFrame"in window?a=g:"webkitRequestAnimationFrame"in window?a=h:navigator.userAgent.indexOf("Opera")>=0?a=k:window.devicePixelRatio?a=j:i().zoom>.001&&(a=i):a=c,a}();return{zoom:function(){return m().zoom},device:function(){return m().devicePxPerCssPx}}});var script=document.createElement("script");script.src="lib/createjs.js",document.body.appendChild(script);var stage,debugText;script.onload=function(){initialize(),debugText=new DebugLabel,console.log("main method begins..."),console.log("create canvas...");var a=document.createElement("canvas");document.body.appendChild(a),a.id="gameCanvas",a.style.display="block",a.style.margin="0 auto",a.width=320,a.height=400,stage=new createjs.Stage(a),stage&&console.log("stage is ready ");var b=new createjs.Shape;b.graphics.beginFill(createjs.Graphics.getRGB(200,200,200,.5)).drawRect(0,0,a.width,a.height),stage.addChild(b);var c=new createjs.Bitmap("./images/testimg.gif");console.log("logo info"),console.log(c.x),console.log(c.y),stage.addChild(c),stage.update(),createjs.Ticker.setFPS(60),createjs.Ticker.addEventListener("tick",tick),scaleCanvas(),window.addEventListener("resize",resizeHandler,!1),stage.update(),stage.addChild(debugText)};