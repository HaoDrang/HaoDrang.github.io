function Preload() {
}

function PreloadProgressBar(a, b, c, d, e, f, g, h, i, j, k) {
    this.x = a, this.y = b, this.w = c, this.h = d, this.radius = e, this.offsetx = f, 
    this.offsety = g, this.color = createjs.Graphics.getRGB(h, i, j, k), this.strokecolor = createjs.Graphics.getRGB(0, 0, 0, 1), 
    this.bgcolor = createjs.Graphics.getRGB(200, 200, 200, 1);
}

function resizeCanvas(a) {
    var b = a.canvas, c = 0, d = 0, e = b.width, f = b.height;
    window.innerWidth ? (c = window.innerWidth, d = window.innerHeight) : "0" != document.documentElement.clientWidth ? (c = document.documentElement.clientWidth, 
    d = document.documentElement.clientHeight) : (c = document.body.clientWidth, d = document.body.clientHeight);
    var g = 1;
    c / d > e / f ? (g = d / f, b.height = d, b.width = d * e / f) : (g = c / e, b.width = c, 
    b.height = c * f / e), rescaleStage(a, g);
}

function rescaleStage(a, b) {
    a.scaleX = a.scaleY = b, console.log("stage scale ready"), a.update();
}

var CANVAS_W = 490, CANVAS_H = 700;

Preload.prototype = new createjs.Container(), Preload.prototype.container_initialize = Preload.prototype.initialize, 
Preload.prototype.initialize = function() {
    this.container_initialize();
    var a = document.createElement("canvas");
    document.body.appendChild(a), a.id = "gameCanvas", a.style.display = "block", a.style.margin = "0 auto", 
    a.width = CANVAS_W, a.height = CANVAS_H, console.log("game canvas created...");
    var b = new createjs.Stage(a);
    b.barBackground = "0x000000", console.log("stage is ready..."), resizeCanvas(b), 
    this.buildUI(b);
}, Preload.prototype.buildUI = function(a) {
    var b = CANVAS_W - 10, c = 30, d = (CANVAS_W - b) / 2, e = (CANVAS_H - c) / 2;
    progressBar = new PreloadProgressBar(d, e / 2, b, c, 5, 2, 2, 255, 0, 0, 1), a.addChild(progressBar), 
    progressBar.updateProgress(0, 100), a.update(), console.log("x " + progressBar.x + " y:" + progressBar.y), 
    console.log("stage " + a.canvas.height + "  " + a.y);
}, PreloadProgressBar.prototype = new createjs.Shape(), PreloadProgressBar.prototype.updateProgress = function(a, b) {
    this.graphics.beginFill(this.strokecolor).drawRoundRect(this.x, this.y, this.w, this.h, this.radius, this.radius, this.radius, this.radius), 
    this.graphics.beginFill(this.bgcolor).drawRoundRect(this.x + this.offsetx, this.y + this.offsety, this.w - 2 * this.offsetx, this.h - 2 * this.offsety, this.radius, this.radius, this.radius, this.radius), 
    this.graphics.endFill();
};